# ai
## setup
```
cp .env.example .env
code .env # openaiのapiキーを追加

poetry install
```

## usage
### データ生成
```
ai-py3.12goto@m2 src % python cli.py generate あなたの特技を教えてください --size 5
2024-04-28 16:06:03.155 | INFO     | __main__:generate:12 - 20240428160603.json にデータを生成します
 80%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████▏                           | 4/5 [00:09<00:02,  2.30s/it]
面接官: あなたの特技を教えてください
  学生: プログラミング言語を使ったWebアプリケーションの開発が得意です。特にJavaScriptとReactを使ったフロントエンド開発が得意です。
    面接官: それは素晴らしいですね。フロントエンド開発のスキルは今後ますます重要になっていくと思います。自分の得意分野をしっかりと把握しているのは素晴らしいことですね。仕事でどのように活かしていきたいと思っていますか？
      学生: はい、フロントエンド開発のスキルを活かして、ユーザーに使いやすいインタフェースを提供することで、より良いユーザーエクスペリエンスを実現したいと考えています。ユーザーのニーズを理解し、デザインや機能面で最適なソリューションを提供することで、成果に貢献していきたいです。
  学生: 私の特技は、プログラミング言語でのロジカルな思考と問題解決能力です。これまでのプロジェクトや課題を解決する際に、効率的に考えて解決に導くことが得意です。

```

### 検索
```
ai-py3.12goto@m2 src % python cli.py search 20240428160810.json 私はこれまで様々な開発経験を積んできました。--only_candidate True --size 3
2024-04-28 16:33:06.358 | SUCCESS  | __main__:search:33 - 学生: はい、そうですね。チームでの協力やコミュニケーション、リーダーシップ力など、開発だけでなく就業環境全般で必要なスキルだと感じています。これからもその経験を生かして、さらなる成長を目指して頑張りたいと思います。ありがとうございます。
2024-04-28 16:33:06.358 | SUCCESS  | __main__:search:33 - 学生: ありがとうございます。音声認識システムの開発を通じてたくさんのことを学びましたし、その経験を活かして今後も成長していきたいと思っています。引き続き努力して、さらにスキルを磨いていきたいと思います。
2024-04-28 16:33:06.358 | SUCCESS  | __main__:search:33 - 学生: ありがとうございます。音声認識システムの開発を通じてさまざまなスキルを身につけ、チームで協力しながら成果を出すことの喜びを感じました。今後もこの経験を活かして、さらに成長していきたいと考えています。

```

# DBテーブル設計
## HumanResponses テーブル

このテーブルは、面接で想定される質問に対して、想定される人間(面接される人)の回答を保存します。

| フィールド名        | データ型 | 説明                             | 制約       |例|
|-------------------|---------|--------------------------------|-----------|---|
| response_id       | INT     | レスポンスの一意識別子             | 主キー     | 1|
| expected_response | TEXT    | 期待される回答                   |            | "業務効率化システムの開発リーダーを務めました"|

## AIFollowUpQuestions テーブル

このテーブルは、`HumanResponses` テーブルの各エントリに対する AI による深掘り質問を保存します。

| フィールド名         | データ型 | 説明                                 | 制約                   | 例　|
|--------------------|---------|------------------------------------|-----------------------|---|
| follow_up_id       | INT     | フォローアップ質問の一意識別子       | 主キー                 | 1
| response_id        | INT     | 対応するレスポンスの ID              | 外部キー (HumanResponses) | 1
| follow_up_question | TEXT    | AI が提案する追加の深掘り質問         |                     | "そのプロジェクトで直面した最大の課題は何でしたか？"|

## relationship
HumanResponses : AIFollowUpQuestions = 1 : 多

# DBへのデータ注入
http://0.0.0.0:8000/docs
↑にてtry it outでPOSTのAPIを叩いてデータを注入できる

サンプルリクエストボディ
```json
{
  "expected_response": "業務効率化システムの開発リーダーを務めました",
  "follow_up_questions": [
        {"follow_up_question": "そのプロジェクトで直面した最大の課題は何でしたか？"},
        {"follow_up_question": "何人規模の開発ですか"}
    ]
}
```


